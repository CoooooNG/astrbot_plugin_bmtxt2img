# 智谱 BigModel 文生图插件（/bmimg）

通过 `/bmimg` 指令调用智谱 AI 文生图模型（默认 `cogview-4`）生成图片，并将生成结果直接返回到聊天中。

**目录**
- 简介
- 安装
- 配置
- 使用
- 示例
- 注意事项
- 支持

## 简介
本插件基于 AstrBot 平台开发，使用 `zai` SDK 中的 `ZhipuAiClient` 调用智谱大模型的图像生成接口。指令简单，适合快速在对话中出图。

## 安装
- 从 AstrBot 插件市场安装 或 将本目录放入 AstrBot 的插件目录：`data/plugins/`
- 在 AstrBot 管理界面启用插件（名称：`bmtxt2img`）

## 配置
插件首次启用后，请在插件设置中填写以下项：
- `token`：智谱 API Key（必填）。
- `model`：模型名称（可选，默认 `cogview-4`）。

提示：不同模型能力与时延略有差异，如需了解可用模型列表与计费，请参考智谱官方文档。

## 使用
- 在聊天输入框直接输入：`/bmimg 你的提示词`
- 机器人将调用智谱文生图，并返回图片。

指令说明：
- 指令名：`/bmimg`
- 文本：作为 prompt 传给模型
- 输出：单张图片（当前固定尺寸 `1024x1024`，质量 `standard`）

## 示例
- `/bmimg 一只在太空中漂浮的橘猫，赛博朋克霓虹，高对比，精细质感`
- `/bmimg 清晨薄雾的山谷，阳光穿透，电影级光影，写实`

## 注意事项
- 请确保在插件配置中正确填写智谱 `API Key`，否则无法生成图片。
- 生成内容可能受模型与平台策略限制，敏感提示词会被拦截或导致失败。
- 当前版本输出为单张图片，尺寸与质量在代码中固定（可在 `main.py` 内按需修改）。

## 支持
- AstrBot 文档：https://astrbot.app
- 插件文件：`main.py`、`metadata.yaml`、`_conf_schema.json`

欢迎提交问题与建议以帮助改进插件体验。
